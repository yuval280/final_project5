/**
 * @copyright  (C) 2018 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */if(Joomla&&Joomla.getOptions("js-joomla-update")){const e=(s,a)=>{const o=document.getElementById("plg_quickicon_joomlaupdate");o&&o.classList.add(s),o.querySelectorAll("span.j-links-link").forEach(t=>{t.innerHTML=Joomla.sanitizeHtml(a)})},l=()=>{const s=Joomla.getOptions("js-joomla-update");Joomla.enqueueRequest({url:s.ajaxUrl,method:"GET",promise:!0}).then(a=>{const o=a.responseText,t=JSON.parse(o);if(Array.isArray(t))if(t.length===0)e("success",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{const n=t.shift();n.version!==s.version?e("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge text-dark bg-light"> \u200E ${n.version}</span>`)):e("success",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"))}else e("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}).catch(()=>{e("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))})};window.addEventListener("load",()=>setTimeout(l,300))}
